<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Eye Ball Move on Mousemove</title>
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <div>
        <div class="face">
            <div class="eyes">
                <div class="eye"></div>
                <div class="eye"></div>
               
            </div>
        </div> 
        <textarea width=100% margin-top=100px 
        style="resize:none" id="1" cols="52" rows="10" type="text" wrap="hard" oninput="eyeball()"></textarea>
        </div>
        <script> 
         function myFunction(){
                document.getElementById('1').addEventListener('keyup', e => {
                    console.log('Caret at: ', e.target.selectionStart)
                    })
                var x = document.getElementById("1").value;
                var y = x.length ;
                var z = x[y-1];
                var p = document.getElementById("1");
                var left = p.getBoundingClientRect().left;
                var right = p.getBoundingClientRect().right;

                console.log(left);
                console.log(right);
            }
          //  var myVar = setInterval(eyeball, 5000);
           // document.querySelector( 
           // "body").addEventListener("oninput", eyeball); 
            function eyeball() { 
               
                var eye = document.querySelectorAll(".eye"); 
                eye.forEach(function (eye) { 

                var c = 0;
               
                var p = document.getElementById("1");
                var left = p.getBoundingClientRect().left;
                var right = p.getBoundingClientRect().right;
                var val = p.value;
                var last_char = val[val.length -1];
                c=(val.slice(0, p.selectionStart).length);
                var w = (right-left) / 52;
                var top = p.getBoundingClientRect().top; 
                c=c%52;       
                if(last_char  == '\n'){
                    c=0;
                }
                var off = left + (w*c);
               


                    let x = 
                        eye.getBoundingClientRect().left + 
                        eye.clientWidth / 2; 
                    
                    let y = 
                        eye.getBoundingClientRect().top + 
                        eye.clientHeight / 2; 
                    let radian = 
                    Math.atan2(off - x, top - y); 
                    let rot = radian * (180 / Math.PI) * -1 + 270; 
                    console.log(rot);
                    console.log(c);
                    eye.style.transform = 
                    "rotate(" + rot + "deg)"; 
                }); 
            } 
        </script> 
        
      
    </body>
</html>